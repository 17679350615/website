{"remainingRequest":"D:\\1-4\\second-vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\1-4\\second-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\1-4\\second-vue\\src\\config\\menu.js","dependencies":[{"path":"D:\\1-4\\second-vue\\src\\config\\menu.js","mtime":1603104990000},{"path":"D:\\1-4\\second-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\1-4\\second-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\1-4\\second-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8v5bCGbWVudeS4reeahGNvbXBvbmVudOi9rOWMluS4uuWvueixoQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgdmFyIGZpbmRBbGxNZW51cyA9IGZ1bmN0aW9uIGZpbmRBbGxNZW51cyhyb3V0ZXIsIHN0b3JlKSB7CiAgaWYgKHN0b3JlLnN0YXRlLnJvdXRlcy5sZW5ndGggPiAwKSB7CiAgICByZXR1cm47CiAgfQoKICBheGlvcy5nZXQoIi9tZW51IikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgaWYgKHJlc3AuZGF0YSkgewogICAgICB2YXIgdGZSb3V0ZXMgPSB0cmFuc2Zvcm1Sb3V0ZXMocmVzcC5kYXRhKTsKICAgICAgcm91dGVyLmFkZFJvdXRlcyh0ZlJvdXRlcyk7CiAgICAgIHN0b3JlLmNvbW1pdCgiZmluZEFsbFJvdXRlcyIsIHRmUm91dGVzKTsKICAgIH0KICB9KTsKfTsKZXhwb3J0IHZhciB0cmFuc2Zvcm1Sb3V0ZXMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1Sb3V0ZXMocm91dGVzKSB7CiAgdmFyIHRmUm91dGVzID0gW107CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlcikgewogICAgdmFyIHBhdHRlcm4gPSByb3V0ZXIucGF0dGVybiwKICAgICAgICBfY29tcG9uZW50ID0gcm91dGVyLmNvbXBvbmVudCwKICAgICAgICBuYW1lID0gcm91dGVyLm5hbWUsCiAgICAgICAgY2hpbGRyZW4gPSByb3V0ZXIuY2hpbGRyZW47CgogICAgaWYgKGNoaWxkcmVuICYmIGNoaWxkcmVuIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgY2hpbGRyZW4gPSB0cmFuc2Zvcm1Sb3V0ZXMoY2hpbGRyZW4pOwogICAgfQoKICAgIHZhciB0ZlJvdXRlciA9IHsKICAgICAgcGF0aDogcGF0dGVybiwKICAgICAgbmFtZTogbmFtZSwKICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLAogICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudChyZXNvbHZlKSB7CiAgICAgICAgcmVxdWlyZShbIi4uL3ZpZXdzLyIgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgIH0KICAgIH07CiAgICB0ZlJvdXRlcy5wdXNoKHRmUm91dGVyKTsKICB9KTsKICByZXR1cm4gdGZSb3V0ZXM7Cn07"},{"version":3,"sources":["D:/1-4/second-vue/src/config/menu.js"],"names":["axios","findAllMenus","router","store","state","routes","length","get","then","resp","data","tfRoutes","transformRoutes","addRoutes","commit","forEach","pattern","component","name","children","Array","tfRouter","path","resolve","require","push"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,YAAY,GAAC,SAAbA,YAAa,CAACC,MAAD,EAAQC,KAAR,EAAgB;AACtC,MAAGA,KAAK,CAACC,KAAN,CAAYC,MAAZ,CAAmBC,MAAnB,GAA0B,CAA7B,EAAgC;AAC5B;AACH;;AACDN,EAAAA,KAAK,CAACO,GAAN,CAAU,OAAV,EAAmBC,IAAnB,CAAyB,UAACC,IAAD,EAAQ;AAC7B,QAAGA,IAAI,CAACC,IAAR,EAAc;AACV,UAAIC,QAAQ,GAAGC,eAAe,CAACH,IAAI,CAACC,IAAN,CAA9B;AACAR,MAAAA,MAAM,CAACW,SAAP,CAAiBF,QAAjB;AACAR,MAAAA,KAAK,CAACW,MAAN,CAAa,eAAb,EAA6BH,QAA7B;AACH;AACJ,GAND;AAOH,CAXM;AAcP,OAAO,IAAMC,eAAe,GAAC,SAAhBA,eAAgB,CAACP,MAAD,EAAU;AACnC,MAAIM,QAAQ,GAAG,EAAf;AACAN,EAAAA,MAAM,CAACU,OAAP,CAAe,UAAAb,MAAM,EAAE;AAAA,QAEfc,OAFe,GAMhBd,MANgB,CAEfc,OAFe;AAAA,QAGfC,UAHe,GAMhBf,MANgB,CAGfe,SAHe;AAAA,QAIfC,IAJe,GAMhBhB,MANgB,CAIfgB,IAJe;AAAA,QAKfC,QALe,GAMhBjB,MANgB,CAKfiB,QALe;;AAOnB,QAAIA,QAAQ,IAAIA,QAAQ,YAAYC,KAApC,EAA2C;AACvCD,MAAAA,QAAQ,GAAGP,eAAe,CAACO,QAAD,CAA1B;AACH;;AACD,QAAIE,QAAQ,GAAG;AACXC,MAAAA,IAAI,EAACN,OADM;AAEXE,MAAAA,IAAI,EAAEA,IAFK;AAGXC,MAAAA,QAAQ,EAAEA,QAHC;AAIXF,MAAAA,SAJW,qBAIDM,OAJC,EAIQ;AACfC,QAAAA,OAAO,CAAC,CAAC,cAAcP,UAAd,GAA0B,MAA3B,CAAD,EAAoCM,OAApC,CAAP;AACH;AANU,KAAf;AAQAZ,IAAAA,QAAQ,CAACc,IAAT,CAAcJ,QAAd;AACH,GAnBD;AAoBA,SAAOV,QAAP;AACH,CAvBM","sourcesContent":["//将menu中的component转化为对象\r\nimport axios from 'axios'\r\n\r\nexport const findAllMenus=(router,store)=>{\r\n    if(store.state.routes.length>0) {\r\n        return;\r\n    }\r\n    axios.get(\"/menu\").then( (resp)=>{\r\n        if(resp.data) {\r\n            let tfRoutes = transformRoutes(resp.data)\r\n            router.addRoutes(tfRoutes)\r\n            store.commit(\"findAllRoutes\",tfRoutes)\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const transformRoutes=(routes)=>{\r\n    let tfRoutes = [];\r\n    routes.forEach(router=>{\r\n        let {\r\n            pattern,\r\n            component,\r\n            name,\r\n            children\r\n        } =router\r\n        if (children && children instanceof Array) {\r\n            children = transformRoutes(children)\r\n        }\r\n        let tfRouter = {\r\n            path:pattern,\r\n            name: name,\r\n            children: children,\r\n            component(resolve) {\r\n                require([\"../views/\" + component + '.vue'],resolve)\r\n            }\r\n        }\r\n        tfRoutes.push(tfRouter)\r\n    })\r\n    return tfRoutes;\r\n}"]}]}