{"remainingRequest":"D:\\1-4\\second-vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\1-4\\second-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\1-4\\second-vue\\src\\config\\interceptor.js","dependencies":[{"path":"D:\\1-4\\second-vue\\src\\config\\interceptor.js","mtime":1603116252000},{"path":"D:\\1-4\\second-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\1-4\\second-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\1-4\\second-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOyAvL+WumuS5ieaLpuaIquWZqAoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2Uuc3RhdHVzICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSA1MDApIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1zZwogICAgfSk7CiAgICByZXR1cm47CiAgfQoKICBpZiAocmVzcG9uc2UuZGF0YS5tc2cpIHsKICAgIE1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubXNnLAogICAgICBjZW50ZXI6IHRydWUKICAgIH0pOwogIH0KCiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA1MDQgfHwgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAi5rKh5pyJ5om+5Yiw5pyN5Yqh77yM6K+356Gu6K6k6K+35rGC5Zyw5Z2A5piv5ZCm5q2j56GuIgogICAgfSk7CiAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykgewogICAgTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICLmnYPpmZDkuI3otrMiCiAgICB9KTsKICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogIuWwmuacqueZu+W9le+8jOivt+eZu+W9lSIKICAgIH0pOwogICAgcm91dGVyLnJlcGxhY2UoIi8iKTsKICB9IGVsc2UgewogICAgTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICLmnKrnn6XplJnor68iCiAgICB9KTsKICB9Cn0pOwp2YXIgYmFzZSA9ICIiOyAvL1NwcmluZ1NlY3VyaXR56buY6K6k5LiN5pSv5oyBanNvbueZu+W9lSxrZXksdmFsdWXnmbvlvZUKCmV4cG9ydCB2YXIgcG9zdEtleVZhbHVlUmVxdWVzdCA9IGZ1bmN0aW9uIHBvc3RLZXlWYWx1ZVJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAncG9zdCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcywKICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiAoZGF0YSkgewogICAgICB2YXIgcmV0ID0gJyc7CgogICAgICBmb3IgKHZhciBpIGluIGRhdGEpIHsKICAgICAgICByZXQgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFbaV0pICsgJyYnOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfV0sCiAgICBoZWFkZXJzOiB7CiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgfQogIH0pOwp9Ow=="},{"version":3,"sources":["D:/1-4/second-vue/src/config/interceptor.js"],"names":["axios","Message","router","interceptors","response","use","status","data","error","message","msg","success","center","replace","base","postKeyValueRequest","url","params","method","transformRequest","ret","i","encodeURIComponent","headers"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAuB,YAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB,C,CAEA;;AACAF,KAAK,CAACG,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,UAACD,QAAD,EAAY;AACxC,MAAGA,QAAQ,CAACE,MAAT,IAAmBF,QAAQ,CAACE,MAAT,KAAoB,GAAvC,IAA8CF,QAAQ,CAACG,IAAT,CAAcD,MAAd,KAAyB,GAA1E,EAA+E;AAC3EL,IAAAA,OAAO,CAACO,KAAR,CAAc;AAACC,MAAAA,OAAO,EAAEL,QAAQ,CAACG,IAAT,CAAcG;AAAxB,KAAd;AACA;AACH;;AACD,MAAIN,QAAQ,CAACG,IAAT,CAAcG,GAAlB,EAAuB;AACnBT,IAAAA,OAAO,CAACU,OAAR,CAAgB;AAAEF,MAAAA,OAAO,EAAEL,QAAQ,CAACG,IAAT,CAAcG,GAAzB;AAA8BE,MAAAA,MAAM,EAAE;AAAtC,KAAhB;AACH;;AACD,SAAOR,QAAP;AACH,CATD,EASE,UAAAI,KAAK,EAAI;AACP,MAAIA,KAAK,CAACJ,QAAN,CAAeE,MAAf,KAA0B,GAA1B,IAAiCE,KAAK,CAACJ,QAAN,CAAeE,MAAf,KAA0B,GAA/D,EAAoE;AAChEL,IAAAA,OAAO,CAACO,KAAR,CAAc;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAd;AACH,GAFD,MAEO,IAAID,KAAK,CAACJ,QAAN,CAAeE,MAAf,KAA0B,GAA9B,EAAmC;AACtCL,IAAAA,OAAO,CAACO,KAAR,CAAc;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAd;AACH,GAFM,MAEA,IAAGD,KAAK,CAACJ,QAAN,CAAeE,MAAf,KAA0B,GAA7B,EAAiC;AACpCL,IAAAA,OAAO,CAACO,KAAR,CAAc;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAd;AACAP,IAAAA,MAAM,CAACW,OAAP,CAAe,GAAf;AACH,GAHM,MAGA;AACHZ,IAAAA,OAAO,CAACO,KAAR,CAAc;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAd;AACH;AACJ,CApBD;AAuBA,IAAIK,IAAI,GAAG,EAAX,C,CACA;;AACA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,GAAD,EAAMC,MAAN,EAAiB;AAChD,SAAOjB,KAAK,CAAC;AACTkB,IAAAA,MAAM,EAAE,MADC;AAETF,IAAAA,GAAG,YAAKF,IAAL,SAAYE,GAAZ,CAFM;AAGTT,IAAAA,IAAI,EAAEU,MAHG;AAITE,IAAAA,gBAAgB,EAAE,CAAC,UAAUZ,IAAV,EAAgB;AAC/B,UAAIa,GAAG,GAAG,EAAV;;AACA,WAAK,IAAIC,CAAT,IAAcd,IAAd,EAAoB;AAChBa,QAAAA,GAAG,IAAIE,kBAAkB,CAACD,CAAD,CAAlB,GAAwB,GAAxB,GAA8BC,kBAAkB,CAACf,IAAI,CAACc,CAAD,CAAL,CAAhD,GAA4D,GAAnE;AACH;;AACD,aAAOD,GAAP;AACH,KANiB,CAJT;AAWTG,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAXA,GAAD,CAAZ;AAeH,CAhBM","sourcesContent":["import axios from 'axios'\r\nimport { Message} from \"element-ui\";\r\nimport router from '../router'\r\n\r\n//定义拦截器\r\naxios.interceptors.response.use((response)=>{\r\n    if(response.status && response.status === 200 && response.data.status === 500) {\r\n        Message.error({message: response.data.msg})\r\n        return\r\n    }\r\n    if (response.data.msg) {\r\n        Message.success({ message: response.data.msg, center: true })\r\n    }\r\n    return response;\r\n},error => {\r\n    if (error.response.status === 504 || error.response.status === 404) {\r\n        Message.error({message: \"没有找到服务，请确认请求地址是否正确\"})\r\n    } else if( error.response.status === 403) {\r\n        Message.error({message: \"权限不足\"})\r\n    } else if(error.response.status === 401){\r\n        Message.error({message: \"尚未登录，请登录\"})\r\n        router.replace(\"/\")\r\n    } else {\r\n        Message.error({message: \"未知错误\"})\r\n    }\r\n})\r\n\r\n\r\nlet base = \"\";\r\n//SpringSecurity默认不支持json登录,key,value登录\r\nexport const postKeyValueRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params,\r\n        transformRequest: [function (data) {\r\n            let ret = ''\r\n            for (let i in data) {\r\n                ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&'\r\n            }\r\n            return ret\r\n        }],\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    })\r\n}"]}]}